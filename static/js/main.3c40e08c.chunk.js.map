{"version":3,"sources":["actions.js","UserContext.js","utils.js","BubbleContext.js","styles.js","Controls.js","GameOver.js","App.js","index.js"],"names":["BEGIN_GAME","ADD_BUBBLE","POP_BUBBLE","TIMER_TICK","UPDATE_USER","UserContext","React","createContext","initialUserState","name","user_reducer","state","action","type","_objectSpread","UserProvider","_ref","children","_useReducer","useReducer","_useReducer2","Object","slicedToArray","userState","user_dispatch","react_default","a","createElement","Provider","value","getRandomInt","min","max","Math","ceil","floor","random","BubbleContext","bubbleReducer","BubbleContext_objectSpread","begin","id","ids","length","size","x","newBubble","y","popped","bubbles","concat","toConsumableArray","poppedBubbles","includes","score","points","bubblesPopped","map","b","velocity","timer","gameOver","initialState","BubbleProvider","bubblez","bubbles_dispatch","Nametainer","styled","div","_templateObject","Hey","_templateObject2","UserInput","input","_templateObject3","Timer","_templateObject4","ControlsContainer","_templateObject5","Score","_templateObject6","PlayButton","button","_templateObject7","BeginButton","_templateObject8","SliderContainer","_templateObject9","FooterName","_templateObject10","Controls","setPlay","play","_useContext","useContext","onClick","onChange","e","target","Container","GameOver_templateObject","GameOver","App","_React$createElement","_useContext2","_useState","useState","_useState2","canvasRef","useRef","ctxRef","intervalRef","playRef","velocityRef","drawBubbles","ctx","movedBubbles","current","i","beginPath","ellipse","PI","stroke","App_objectSpread","handleClick","layerX","layerY","pow","useEffect","getContext","fillStyle","fillRect","addEventListener","introAnimate","requestAnimationFrame","lineWidth","strokeStyle","document","hidden","console","log","window","innerWidth","animate","clearRect","setInterval","style","pointerEvents","clearInterval","newBubbles","filter","keys","toString","mergedBubbles","handleUserChange","react","placeholder","src_Controls","touchAction","ref","defineProperty","src_GameOver","ReactDOM","render","src_BubbleContext","src_UserContext","src_App","getElementById"],"mappings":"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","file":"static/js/main.3c40e08c.chunk.js","sourcesContent":["export const BEGIN_GAME = \"BEGIN_GAME\";\r\nexport const ADD_BUBBLE = \"ADD_BUBBLE\";\r\nexport const POP_BUBBLE = \"POP_BUBBLE\";\r\nexport const UPDATE_VELOCITY = \"UPDATE_VELOCITY\";\r\n\r\nexport const TIMER_TICK = \"TIMER_TICK\";\r\n\r\nexport const UPDATE_USER = \"UPDATE_USER\";\r\n","import React, { useReducer } from \"react\";\r\nimport { UPDATE_USER } from \"./actions\";\r\n\r\nexport const UserContext = React.createContext();\r\n\r\nconst initialUserState = { name: \"\" };\r\n\r\nconst user_reducer = (state, action) => {\r\n  const { name } = action;\r\n  switch (action.type) {\r\n    case UPDATE_USER:\r\n      return { ...state, name };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst UserProvider = ({ children }) => {\r\n  const [userState, user_dispatch] = useReducer(user_reducer, initialUserState);\r\n\r\n  return (\r\n    <UserContext.Provider value={{ userState, user_dispatch }}>\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n};\r\n\r\nexport default UserProvider;\r\n","export function getRandomInt(min, max) {\r\n  min = Math.ceil(min);\r\n  max = Math.floor(max);\r\n  return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive\r\n}\r\n","import React, { useReducer } from \"react\";\r\nimport {\r\n  POP_BUBBLE,\r\n  ADD_BUBBLE,\r\n  UPDATE_VELOCITY,\r\n  TIMER_TICK,\r\n  BEGIN_GAME\r\n} from \"./actions\";\r\nimport { getRandomInt } from \"./utils\";\r\n\r\nexport const BubbleContext = React.createContext();\r\nconst begin = false;\r\n\r\nconst bubbles = [];\r\n\r\nconst poppedBubbles = [];\r\n\r\nconst ids = [];\r\n\r\nconst velocity = 50;\r\n\r\nconst score = 0;\r\n\r\nconst timer = 60;\r\n\r\nconst gameOver = false;\r\n\r\nconst bubbleReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case BEGIN_GAME:\r\n      return { ...state, begin: true };\r\n    case ADD_BUBBLE:\r\n      const id = state.ids.length;\r\n      let size = getRandomInt(10, 100);\r\n      let x = getRandomInt(0, 500);\r\n      if (x + size > 500) {\r\n        x = 497 - size;\r\n      } else if (x - size <= 0) {\r\n        x = 3 + size;\r\n      }\r\n      const newBubble = {\r\n        id,\r\n        x,\r\n        y: 0,\r\n        size,\r\n        popped: false\r\n      };\r\n      const bubbles = [...state.bubbles, newBubble];\r\n      const ids = [...state.ids, id];\r\n      return { ...state, bubbles, ids };\r\n    case POP_BUBBLE:\r\n      if (state.poppedBubbles.includes(action.id)) return state;\r\n      const score = state.score + action.points;\r\n      const poppedBubbles = [...state.poppedBubbles, action.id];\r\n      const bubblesPopped = state.bubbles.map(b => {\r\n        if (b.id === action.id) {\r\n          return { ...b, popped: true };\r\n        } else {\r\n          return b;\r\n        }\r\n      });\r\n      return { ...state, bubbles: bubblesPopped, poppedBubbles, score };\r\n    case UPDATE_VELOCITY:\r\n      const { velocity } = action;\r\n      return { ...state, velocity };\r\n    case TIMER_TICK:\r\n      const timer = state.timer - 1;\r\n      const gameOver = timer === 0 ? true : false;\r\n      return { ...state, timer, gameOver };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst initialState = {\r\n  begin,\r\n  ids,\r\n  bubbles,\r\n  poppedBubbles,\r\n  velocity,\r\n  score,\r\n  timer,\r\n  gameOver\r\n};\r\n\r\nconst BubbleProvider = ({ children }) => {\r\n  const [bubblez, bubbles_dispatch] = useReducer(bubbleReducer, initialState);\r\n\r\n  return (\r\n    <BubbleContext.Provider value={{ bubblez, bubbles_dispatch }}>\r\n      {children}\r\n    </BubbleContext.Provider>\r\n  );\r\n};\r\n\r\nexport default BubbleProvider;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Nametainer = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 340px;\r\n  grid-row-gap: 12px;\r\n  margin-left: 20px;\r\n`;\r\nexport const Hey = styled.div`\r\n  font-family: sans-serif;\r\n  font-size: 40px;\r\n`;\r\nexport const UserInput = styled.input`\r\n  height: 40px;\r\n  border: 2px solid black;\r\n  padding: 10px;\r\n  font-size: 30px;\r\n`;\r\n\r\nexport const Timer = styled.div`\r\n  border: 2px solid black;\r\n  border-radius: 43rem;\r\n  padding: 15px;\r\n\r\n  text-align: center;\r\n  width: 57.2px;\r\n  font-size: 46px;\r\n  font-family: fantasy;\r\n  display: block;\r\n  margin: 30px 210px;\r\n`;\r\n\r\nexport const ControlsContainer = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 250px 250px;\r\n  grid-template-rows: 70px 40px;\r\n  width: 500px;\r\n  height: 117px;\r\n  background: white;\r\n`;\r\nexport const Score = styled.div`\r\n  text-align: center;\r\n  font-size: 44px;\r\n  font-family: monospace;\r\n  line-height: 70px;\r\n`;\r\n\r\nexport const PlayButton = styled.button`\r\n  background: white;\r\n  font-size: 44px;\r\n  font-weight: solid;\r\n  font-family: sans-serif;\r\n  border: 3px solid black;\r\n  border-radius: 2rem;\r\n`;\r\n\r\nexport const BeginButton = styled(PlayButton)`\r\n  background: white;\r\n  font-size: 24px;\r\n  font-weight: solid;\r\n  font-family: sans-serif;\r\n  border: 3px solid black;\r\n  border-radius: 2rem;\r\n  margin-top: 1px;\r\n  margin-bottom: 10px;\r\n  width: 170px;\r\n  height: 60px;\r\n`;\r\n\r\nexport const SliderContainer = styled.div`\r\n  grid-row: 2;\r\n  grid-column: 1 / span 2;\r\n\r\n  input[type=\"range\"] {\r\n    -webkit-appearance: none;\r\n    margin: 18px 0;\r\n    width: 99%;\r\n  }\r\n  input[type=\"range\"]:focus {\r\n    outline: none;\r\n  }\r\n  input[type=\"range\"]::-webkit-slider-runnable-track {\r\n    width: 99%;\r\n    height: 8.4px;\r\n    cursor: pointer;\r\n    animate: 0.2s;\r\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\r\n    background: white;\r\n    border-radius: 1.3px;\r\n    border: 0.2px solid #010101;\r\n  }\r\n  input[type=\"range\"]::-webkit-slider-thumb {\r\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\r\n    border: 1px solid #000000;\r\n    height: 30px;\r\n    width: 20px;\r\n    border-radius: 3px;\r\n    background: #ffffff;\r\n    cursor: pointer;\r\n    -webkit-appearance: none;\r\n    margin-top: -11px;\r\n  }\r\n  input[type=\"range\"]:focus::-webkit-slider-runnable-track {\r\n    background: red;\r\n  }\r\n`;\r\n\r\nexport const FooterName = styled.div`\r\n  margin: 20px;\r\n  font-size: 40px;\r\n  font-family: sans-serif;\r\n`;\r\n","import React, { useContext } from \"react\";\r\nimport { BubbleContext } from \"./BubbleContext\";\r\nimport { UPDATE_VELOCITY } from \"./actions\";\r\nimport {\r\n  ControlsContainer,\r\n  Score,\r\n  PlayButton,\r\n  SliderContainer\r\n} from \"./styles\";\r\n\r\nconst Controls = ({ setPlay, play }) => {\r\n  const {\r\n    bubbles_dispatch,\r\n    bubblez: { score }\r\n  } = useContext(BubbleContext);\r\n  return (\r\n    <ControlsContainer>\r\n      <Score>{score}</Score>\r\n      <PlayButton onClick={() => setPlay(!play)}>\r\n        {play ? \"PAUSE\" : \"PLAY\"}\r\n      </PlayButton>\r\n      <SliderContainer>\r\n        <input\r\n          onChange={e =>\r\n            bubbles_dispatch({\r\n              type: UPDATE_VELOCITY,\r\n              velocity: e.target.value\r\n            })\r\n          }\r\n          type=\"range\"\r\n          name=\"points\"\r\n          min=\"10\"\r\n          max=\"100\"\r\n        ></input>\r\n      </SliderContainer>\r\n    </ControlsContainer>\r\n  );\r\n};\r\n\r\nexport default Controls;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nconst Container = styled.div`\r\n  text-align: center;\r\n  font-size: 60px;\r\n  padding: 80px;\r\n  font-family: sans-serif;\r\n`;\r\n\r\nconst GameOver = ({ name, score }) => {\r\n  return (\r\n    <Container>\r\n      Nice job {name}!<p>You got {score}!</p>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default GameOver;\r\n","import React, {\r\n  Fragment,\r\n  useContext,\r\n  useEffect,\r\n  useRef,\r\n  useState\r\n} from \"react\";\r\nimport { UserContext } from \"./UserContext\";\r\nimport { BubbleContext } from \"./BubbleContext\";\r\nimport {\r\n  POP_BUBBLE,\r\n  ADD_BUBBLE,\r\n  UPDATE_USER,\r\n  TIMER_TICK,\r\n  BEGIN_GAME\r\n} from \"./actions\";\r\nimport Controls from \"./Controls\";\r\nimport GameOver from \"./GameOver\";\r\nimport {\r\n  BeginButton,\r\n  UserInput,\r\n  Timer,\r\n  Nametainer,\r\n  Hey,\r\n  FooterName\r\n} from \"./styles\";\r\nimport { getRandomInt } from \"./utils\";\r\n\r\nfunction App() {\r\n  const { userState, user_dispatch } = useContext(UserContext);\r\n  const { bubblez, bubbles_dispatch } = useContext(BubbleContext);\r\n  const [play, setPlay] = useState(false);\r\n  const canvasRef = useRef();\r\n  const ctxRef = useRef();\r\n  const intervalRef = useRef();\r\n  const playRef = useRef();\r\n  const velocityRef = useRef();\r\n\r\n  const bubbles = useRef(bubblez.bubbles);\r\n\r\n  const drawBubbles = ctx => {\r\n    const movedBubbles = bubbles.current.map((b, i) => {\r\n      const velocity = b.y > 500 + b.y ? 0 : velocityRef.current / 30;\r\n      const size = b.popped ? 0 : b.size;\r\n\r\n      if (i === bubbles.current.length - 1 && b.y > b.size + 100) {\r\n        bubbles_dispatch({ type: ADD_BUBBLE });\r\n      }\r\n\r\n      ctx.beginPath();\r\n      ctx.ellipse(b.x, b.y + velocity, size, size, Math.PI / 4, 0, 2 * Math.PI);\r\n      ctx.stroke();\r\n      return { ...b, y: b.y + velocity };\r\n    });\r\n    bubbles.current = movedBubbles;\r\n  };\r\n\r\n  const animate = () => {\r\n    if (playRef.current) {\r\n      requestAnimationFrame(animate);\r\n      ctxRef.current.clearRect(0, 0, 500, 500);\r\n      drawBubbles(ctxRef.current);\r\n    }\r\n  };\r\n\r\n  const introAnimate = () => {\r\n    requestAnimationFrame(introAnimate);\r\n    const size = getRandomInt(0, 500);\r\n    ctxRef.current.lineWidth = getRandomInt(1, 10);\r\n    ctxRef.current.strokeStyle = getRandomInt(1, 10) > 5 ? \"black\" : \"white\";\r\n    ctxRef.current.beginPath();\r\n    ctxRef.current.ellipse(250, 250, size, size, Math.PI / 4, 0, 2 * Math.PI);\r\n    ctxRef.current.stroke();\r\n  };\r\n\r\n  const handleClick = e => {\r\n    const x = e.layerX;\r\n    const y = e.layerY;\r\n    for (let i = 0; i < bubbles.current.length; i++) {\r\n      const b = bubbles.current[i];\r\n      if (Math.pow(x - b.x, 2) + Math.pow(y - b.y, 2) < Math.pow(b.size, 2)) {\r\n        bubbles_dispatch({\r\n          type: POP_BUBBLE,\r\n          id: b.id,\r\n          points: Math.floor(100 / b.size)\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const ctx = canvasRef.current.getContext(\"2d\");\r\n    ctxRef.current = ctx;\r\n    ctx.fillStyle = \"red\";\r\n    ctx.fillRect(0, 0, 500, 500);\r\n    canvasRef.current.addEventListener(\"click\", handleClick, true);\r\n    introAnimate();\r\n    document.addEventListener(\"visibilitychange\", function() {\r\n      if (document.hidden) {\r\n        setPlay(false);\r\n      }\r\n    });\r\n    console.log(window.innerWidth);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (play) {\r\n      playRef.current = true;\r\n      bubbles_dispatch({ type: ADD_BUBBLE });\r\n\r\n      animate();\r\n      intervalRef.current = setInterval(\r\n        () => bubbles_dispatch({ type: TIMER_TICK }),\r\n        1000\r\n      );\r\n    } else {\r\n      canvasRef.current.style.pointerEvents = \"none\";\r\n      playRef.current = false;\r\n      clearInterval(intervalRef.current);\r\n    }\r\n  }, [play]);\r\n\r\n  useEffect(() => {\r\n    velocityRef.current = bubblez.velocity;\r\n  }, [bubblez.velocity]);\r\n\r\n  useEffect(() => {\r\n    const newBubbles = bubblez.bubbles.filter(b => {\r\n      return !Object.keys(bubbles.current).includes(b.id.toString());\r\n    });\r\n    const mergedBubbles = bubbles.current.concat(newBubbles);\r\n\r\n    bubbles.current = mergedBubbles;\r\n  }, [bubblez.bubbles]);\r\n\r\n  useEffect(() => {\r\n    const newBubbles = bubbles.current.map(b => {\r\n      if (bubblez.poppedBubbles.includes(b.id)) {\r\n        b.popped = true;\r\n        return b;\r\n      }\r\n      return b;\r\n    });\r\n    bubbles.current = newBubbles;\r\n  }, [bubblez.poppedBubbles]);\r\n\r\n  useEffect(() => {\r\n    if (bubblez.gameOver) {\r\n      clearInterval(intervalRef.current);\r\n    }\r\n  }, [bubblez.gameOver]);\r\n\r\n  const handleUserChange = e =>\r\n    user_dispatch({ type: UPDATE_USER, name: e.target.value });\r\n\r\n  return (\r\n    <div>\r\n      {!bubblez.gameOver && (\r\n        <Fragment>\r\n          {!bubblez.begin && (\r\n            <Nametainer>\r\n              <Hey>Hey there! what may I call you?</Hey>\r\n              <UserInput\r\n                onChange={handleUserChange}\r\n                placeholder=\"name\"\r\n              ></UserInput>\r\n              <BeginButton\r\n                onClick={() => bubbles_dispatch({ type: BEGIN_GAME })}\r\n              >\r\n                CONTINUE\r\n              </BeginButton>\r\n            </Nametainer>\r\n          )}\r\n          {bubblez.begin && (\r\n            <Fragment>\r\n              <Timer>{bubblez.timer}</Timer>\r\n              <Controls\r\n                setPlay={setPlay}\r\n                play={play}\r\n                bubblez={bubblez}\r\n                handleUserChange={handleUserChange}\r\n              />\r\n            </Fragment>\r\n          )}\r\n          <canvas\r\n            style={{ touchAction: \"none\" }}\r\n            ref={canvasRef}\r\n            style={{ pointerEvents: play ? \"auto\" : \"none\" }}\r\n            width=\"500px\"\r\n            height=\"500px\"\r\n          />\r\n          {userState.name && (\r\n            <FooterName>Good luck {userState.name}!</FooterName>\r\n          )}\r\n        </Fragment>\r\n      )}\r\n      {bubblez.gameOver && (\r\n        <GameOver name={userState.name} score={bubblez.score} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport UserProvider from \"./UserContext\";\r\nimport BubbleProvider from \"./BubbleContext\";\r\n\r\nReactDOM.render(\r\n  <BubbleProvider>\r\n    <UserProvider>\r\n      <App />\r\n    </UserProvider>\r\n  </BubbleProvider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}