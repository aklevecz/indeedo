(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){e.exports=t(25)},25:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(10),i=t.n(c),o=t(3),u=t(4),l="BEGIN_GAME",p="ADD_BUBBLE",s="POP_BUBBLE",b="TIMER_TICK",f="UPDATE_USER";function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}var m=a.a.createContext(),O={name:""},g=function(e,n){var t=n.name;switch(n.type){case f:return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(t,!0).forEach(function(n){Object(o.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},e,{name:t});default:return e}},y=function(e){var n=e.children,t=Object(r.useReducer)(g,O),c=Object(u.a)(t,2),i=c[0],o=c[1];return a.a.createElement(m.Provider,{value:{userState:i,user_dispatch:o}},n)},v=t(5);function h(e,n){return e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e+1))+e}function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(t,!0).forEach(function(n){Object(o.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var w=a.a.createContext(),E=function(e,n){switch(n.type){case l:return j({},e,{begin:!0});case p:var t=e.ids.length,r=h(10,100),a=h(0,500);a+r>500?a=497-r:a-r<=0&&(a=3+r);var c={id:t,x:a,y:0,size:r,popped:!1};return j({},e,{bubbles:[].concat(Object(v.a)(e.bubbles),[c]),ids:[].concat(Object(v.a)(e.ids),[t])});case s:if(e.poppedBubbles.includes(n.id))return e;var i=e.score+n.points,o=[].concat(Object(v.a)(e.poppedBubbles),[n.id]),u=e.bubbles.map(function(e){return e.id===n.id?j({},e,{popped:!0}):e});return j({},e,{bubbles:u,poppedBubbles:o,score:i});case"UPDATE_VELOCITY":return j({},e,{velocity:n.velocity});case b:var f=e.timer-1;return j({},e,{timer:f,gameOver:57===f});default:return e}},P={begin:!1,ids:[],bubbles:[],poppedBubbles:[],velocity:50,score:0,timer:60,gameOver:!1},k=function(e){var n=e.children,t=Object(r.useReducer)(E,P),c=Object(u.a)(t,2),i=c[0],o=c[1];return a.a.createElement(w.Provider,{value:{bubblez:i,bubbles_dispatch:o}},n)},z=t(1),D=t(2);function C(){var e=Object(z.a)(["\n  margin: 20px;\n  font-size: 40px;\n  font-family: sans-serif;\n"]);return C=function(){return e},e}function I(){var e=Object(z.a)(['\n  grid-row: 2;\n  grid-column: 1 / span 2;\n\n  input[type="range"] {\n    -webkit-appearance: none;\n    margin: 18px 0;\n    width: 99%;\n  }\n  input[type="range"]:focus {\n    outline: none;\n  }\n  input[type="range"]::-webkit-slider-runnable-track {\n    width: 99%;\n    height: 8.4px;\n    cursor: pointer;\n    animate: 0.2s;\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\n    background: white;\n    border-radius: 1.3px;\n    border: 0.2px solid #010101;\n  }\n  input[type="range"]::-webkit-slider-thumb {\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\n    border: 1px solid #000000;\n    height: 30px;\n    width: 20px;\n    border-radius: 3px;\n    background: #ffffff;\n    cursor: pointer;\n    -webkit-appearance: none;\n    margin-top: -11px;\n  }\n  input[type="range"]:focus::-webkit-slider-runnable-track {\n    background: red;\n  }\n']);return I=function(){return e},e}function B(){var e=Object(z.a)(["\n  background: white;\n  font-size: 24px;\n  font-weight: solid;\n  font-family: sans-serif;\n  border: 3px solid black;\n  border-radius: 2rem;\n  margin-top: 1px;\n  margin-bottom: 10px;\n  width: 170px;\n  height: 60px;\n"]);return B=function(){return e},e}function M(){var e=Object(z.a)(["\n  background: white;\n  font-size: 44px;\n  font-weight: solid;\n  font-family: sans-serif;\n  border: 3px solid black;\n  border-radius: 2rem;\n"]);return M=function(){return e},e}function S(){var e=Object(z.a)(["\n  text-align: center;\n  font-size: 44px;\n  font-family: monospace;\n  line-height: 70px;\n"]);return S=function(){return e},e}function R(){var e=Object(z.a)(["\n  display: grid;\n  grid-template-columns: 250px 250px;\n  grid-template-rows: 70px 40px;\n  width: 500px;\n  height: 117px;\n  background: white;\n"]);return R=function(){return e},e}function _(){var e=Object(z.a)(["\n  border: 2px solid black;\n  border-radius: 43rem;\n  padding: 15px;\n\n  text-align: center;\n  width: 57.2px;\n  font-size: 46px;\n  font-family: fantasy;\n  display: block;\n  margin: 30px 210px;\n"]);return _=function(){return e},e}function A(){var e=Object(z.a)(["\n  height: 40px;\n  border: 2px solid black;\n  padding: 10px;\n  font-size: 30px;\n"]);return A=function(){return e},e}function U(){var e=Object(z.a)(["\n  font-family: sans-serif;\n  font-size: 40px;\n"]);return U=function(){return e},e}function T(){var e=Object(z.a)(["\n  display: grid;\n  grid-template-columns: 340px;\n  grid-row-gap: 12px;\n  margin-left: 20px;\n"]);return T=function(){return e},e}var L=D.a.div(T()),Y=D.a.div(U()),F=D.a.input(A()),N=D.a.div(_()),G=D.a.div(R()),q=D.a.div(S()),J=D.a.button(M()),V=Object(D.a)(J)(B()),W=D.a.div(I()),H=D.a.div(C()),K=function(e){var n=e.setPlay,t=e.play,c=Object(r.useContext)(w),i=c.bubbles_dispatch,o=c.bubblez.score;return a.a.createElement(G,null,a.a.createElement(q,null,o),a.a.createElement(J,{onClick:function(){return n(!t)}},t?"PAUSE":"PLAY"),a.a.createElement(W,null,a.a.createElement("input",{onChange:function(e){return i({type:"UPDATE_VELOCITY",velocity:e.target.value})},type:"range",name:"points",min:"10",max:"100"})))};function X(){var e=Object(z.a)(["\n  text-align: center;\n  font-size: 60px;\n  padding: 80px;\n  font-family: sans-serif;\n"]);return X=function(){return e},e}var Q=D.a.div(X()),Z=function(e){var n=e.name,t=e.score;return a.a.createElement(Q,null,"Nice job ",n,"!",a.a.createElement("p",null,"You got ",t,"!"))};function $(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}var ee=function(){var e,n=Object(r.useContext)(m),t=n.userState,c=n.user_dispatch,i=Object(r.useContext)(w),d=i.bubblez,O=i.bubbles_dispatch,g=Object(r.useState)(!1),y=Object(u.a)(g,2),v=y[0],x=y[1],j=Object(r.useRef)(),E=Object(r.useRef)(),P=Object(r.useRef)(),k=Object(r.useRef)(),z=Object(r.useRef)(),D=Object(r.useRef)(d.bubbles),C=function(e){var n=D.current.map(function(n,t){var r=n.y>500+n.y?0:z.current/30,a=n.popped?0:n.size;return t===D.current.length-1&&n.y>n.size+100&&O({type:p}),e.beginPath(),e.ellipse(n.x,n.y+r,a,a,Math.PI/4,0,2*Math.PI),e.stroke(),function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?$(t,!0).forEach(function(n){Object(o.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},n,{y:n.y+r})});D.current=n},I=function(e){for(var n=e.layerX,t=e.layerY,r=0;r<D.current.length;r++){var a=D.current[r];Math.pow(n-a.x,2)+Math.pow(t-a.y,2)<Math.pow(a.size,2)&&O({type:s,id:a.id,points:Math.floor(100/a.size)})}};Object(r.useEffect)(function(){var e=j.current.getContext("2d");E.current=e,e.fillStyle="red",e.fillRect(0,0,500,500),j.current.addEventListener("click",I,!0),function e(){requestAnimationFrame(e);var n=h(0,500);E.current.lineWidth=h(1,10),E.current.strokeStyle=h(1,10)>5?"black":"white",E.current.beginPath(),E.current.ellipse(250,250,n,n,Math.PI/4,0,2*Math.PI),E.current.stroke()}(),document.addEventListener("visibilitychange",function(){document.hidden&&x(!1)}),console.log(window.innerWidth)},[]),Object(r.useEffect)(function(){v?(k.current=!0,O({type:p}),function e(){k.current&&(requestAnimationFrame(e),E.current.clearRect(0,0,500,500),C(E.current))}(),P.current=setInterval(function(){return O({type:b})},1e3)):(j.current.style.pointerEvents="none",k.current=!1,clearInterval(P.current))},[v]),Object(r.useEffect)(function(){z.current=d.velocity},[d.velocity]),Object(r.useEffect)(function(){var e=d.bubbles.filter(function(e){return!Object.keys(D.current).includes(e.id.toString())}),n=D.current.concat(e);D.current=n},[d.bubbles]),Object(r.useEffect)(function(){var e=D.current.map(function(e){return d.poppedBubbles.includes(e.id)?(e.popped=!0,e):e});D.current=e},[d.poppedBubbles]),Object(r.useEffect)(function(){d.gameOver&&clearInterval(P.current)},[d.gameOver]);var B=function(e){return c({type:f,name:e.target.value})};return a.a.createElement("div",null,!d.gameOver&&a.a.createElement(r.Fragment,null,!d.begin&&a.a.createElement(L,null,a.a.createElement(Y,null,"Hey there! what may I call you?"),a.a.createElement(F,{onChange:B,placeholder:"name"}),a.a.createElement(V,{onClick:function(){return O({type:l})}},"CONTINUE")),d.begin&&a.a.createElement(r.Fragment,null,a.a.createElement(N,null,d.timer),a.a.createElement(K,{setPlay:x,play:v,bubblez:d,handleUserChange:B})),a.a.createElement("canvas",(e={style:{touchAction:"none"},ref:j},Object(o.a)(e,"style",{pointerEvents:v?"auto":"none"}),Object(o.a)(e,"width","500px"),Object(o.a)(e,"height","500px"),e)),t.name&&a.a.createElement(H,null,"Good luck ",t.name,"!")),d.gameOver&&a.a.createElement(Z,{name:t.name,score:d.score}))};i.a.render(a.a.createElement(k,null,a.a.createElement(y,null,a.a.createElement(ee,null))),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.ca2bcbea.chunk.js.map